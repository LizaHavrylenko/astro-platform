import{r as p}from"./index.Cd_vQiNd.js";var v={exports:{}},f={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R;function h(){if(R)return f;R=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,n,s){var l=null;if(s!==void 0&&(l=""+s),n.key!==void 0&&(l=""+n.key),"key"in n){s={};for(var d in n)d!=="key"&&(s[d]=n[d])}else s=n;return n=s.ref,{$$typeof:u,type:r,key:l,ref:n!==void 0?n:null,props:s}}return f.Fragment=t,f.jsx=e,f.jsxs=e,f}var m;function w(){return m||(m=1,v.exports=h()),v.exports}var j=w();let i=[],o=0;const c=4;let S=u=>{let t=[],e={get(){return e.lc||e.listen(()=>{})(),e.value},lc:0,listen(r){return e.lc=t.push(r),()=>{for(let s=o+c;s<i.length;)i[s]===r?i.splice(s,c):s+=c;let n=t.indexOf(r);~n&&(t.splice(n,1),--e.lc||e.off())}},notify(r,n){let s=!i.length;for(let l of t)i.push(l,e.value,r,n);if(s){for(o=0;o<i.length;o+=c)i[o](i[o+1],i[o+2],i[o+3]);i.length=0}},off(){},set(r){let n=e.value;n!==r&&(e.value=r,e.notify(n))},subscribe(r){let n=e.listen(r);return r(e.value),n},value:u};return e};function T(u,t,e){let r=new Set(t).add(void 0);return u.listen((n,s,l)=>{r.has(l)&&e(n,s,l)})}let y=(u={})=>{let t=S(u);return t.setKey=function(e,r){let n=t.value;typeof r>"u"&&e in t.value?(t.value={...t.value},delete t.value[e],t.notify(n,e)):t.value[e]!==r&&(t.value={...t.value,[e]:r},t.notify(n,e))},t},x=(u,t)=>e=>{u.current!==e&&(u.current=e,t())};function q(u,{keys:t,deps:e=[u,t]}={}){let r=p.useRef();r.current=u.get();let n=p.useCallback(l=>(x(r,l)(u.value),t?.length>0?T(u,t,x(r,l)):u.listen(x(r,l))),e),s=()=>r.current;return p.useSyncExternalStore(n,s,s)}const a=S({status:"unknown",user:null}),_="auth:v1";function g(){if(typeof window>"u")return;const u=localStorage.getItem(_);if(u)try{const t=JSON.parse(u);a.set(t)}catch{}else a.set({status:"anonymous",user:null})}function E(){typeof window>"u"||localStorage.setItem(_,JSON.stringify(a.get()))}async function I(u,t){const e={email:u,name:u.split("@")[0]};a.set({status:"authenticated",user:e}),E()}function A(){a.set({status:"anonymous",user:null}),E()}typeof window<"u"&&(g(),a.listen(E));y({});export{a,I as b,j,A as l,q as u};

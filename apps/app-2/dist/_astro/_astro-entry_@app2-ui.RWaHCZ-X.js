import{r as p}from"./index.Cd_vQiNd.js";var v={exports:{}},f={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m;function j(){if(m)return f;m=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,n,s){var u=null;if(s!==void 0&&(u=""+s),n.key!==void 0&&(u=""+n.key),"key"in n){s={};for(var x in n)x!=="key"&&(s[x]=n[x])}else s=n;return n=s.ref,{$$typeof:l,type:r,key:u,ref:n!==void 0?n:null,props:s}}return f.Fragment=e,f.jsx=t,f.jsxs=t,f}var E;function y(){return E||(E=1,v.exports=j()),v.exports}var o=y();let i=[],a=0;const d=4;let R=l=>{let e=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},lc:0,listen(r){return t.lc=e.push(r),()=>{for(let s=a+d;s<i.length;)i[s]===r?i.splice(s,d):s+=d;let n=e.indexOf(r);~n&&(e.splice(n,1),--t.lc||t.off())}},notify(r,n){let s=!i.length;for(let u of e)i.push(u,t.value,r,n);if(s){for(a=0;a<i.length;a+=d)i[a](i[a+1],i[a+2],i[a+3]);i.length=0}},off(){},set(r){let n=t.value;n!==r&&(t.value=r,t.notify(n))},subscribe(r){let n=t.listen(r);return r(t.value),n},value:l};return t};function _(l,e,t){let r=new Set(e).add(void 0);return l.listen((n,s,u)=>{r.has(u)&&t(n,s,u)})}let w=(l={})=>{let e=R(l);return e.setKey=function(t,r){let n=e.value;typeof r>"u"&&t in e.value?(e.value={...e.value},delete e.value[t],e.notify(n,t)):e.value[t]!==r&&(e.value={...e.value,[t]:r},e.notify(n,t))},e},h=(l,e)=>t=>{l.current!==t&&(l.current=t,e())};function T(l,{keys:e,deps:t=[l,e]}={}){let r=p.useRef();r.current=l.get();let n=p.useCallback(u=>(h(r,u)(l.value),e?.length>0?_(l,e,h(r,u)):l.listen(h(r,u))),t),s=()=>r.current;return p.useSyncExternalStore(n,s,s)}const c=R({status:"unknown",user:null}),g="auth:v1";function b(){if(typeof window>"u")return;const l=localStorage.getItem(g);if(l)try{const e=JSON.parse(l);c.set(e)}catch{}else c.set({status:"anonymous",user:null})}function S(){typeof window>"u"||localStorage.setItem(g,JSON.stringify(c.get()))}function J(){c.set({status:"anonymous",user:null}),S()}typeof window<"u"&&(b(),c.listen(S));w({});const N=()=>{const{user:l,status:e}=T(c);return o.jsx("div",{className:"flex items-center gap-3",children:l&&e&&e==="authenticated"?o.jsxs(o.Fragment,{children:[o.jsxs("span",{children:["Hello, ",l.name??l.email]}),o.jsx("button",{className:"rounded bg-gray-900 px-3 py-1 text-white",onClick:()=>{J()},children:"Logout"})]}):o.jsx("div",{class:"flex min-h-[80vh] items-center justify-center",children:o.jsxs("div",{class:"text-center",children:[o.jsx("p",{children:"You are currently not logged in."}),o.jsx("button",{children:o.jsx("a",{className:"rounded bg-gray-900 px-3 py-1 text-white",href:"/login",children:"Login"})})]})})})};export{N as DashboardInfo};

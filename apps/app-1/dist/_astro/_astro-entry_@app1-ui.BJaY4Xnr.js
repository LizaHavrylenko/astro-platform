import{r as f}from"./index.Cd_vQiNd.js";var m={exports:{}},c={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h;function S(){if(h)return c;h=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,l){var u=null;if(l!==void 0&&(u=""+l),r.key!==void 0&&(u=""+r.key),"key"in r){l={};for(var x in r)x!=="key"&&(l[x]=r[x])}else l=r;return r=l.ref,{$$typeof:s,type:n,key:u,ref:r!==void 0?r:null,props:l}}return c.Fragment=t,c.jsx=e,c.jsxs=e,c}var E;function R(){return E||(E=1,m.exports=S()),m.exports}var i=R();let o=[],a=0;const p=4;let w=s=>{let t=[],e={get(){return e.lc||e.listen(()=>{})(),e.value},lc:0,listen(n){return e.lc=t.push(n),()=>{for(let l=a+p;l<o.length;)o[l]===n?o.splice(l,p):l+=p;let r=t.indexOf(n);~r&&(t.splice(r,1),--e.lc||e.off())}},notify(n,r){let l=!o.length;for(let u of t)o.push(u,e.value,n,r);if(l){for(a=0;a<o.length;a+=p)o[a](o[a+1],o[a+2],o[a+3]);o.length=0}},off(){},set(n){let r=e.value;r!==n&&(e.value=n,e.notify(r))},subscribe(n){let r=e.listen(n);return n(e.value),r},value:s};return e};function b(s,t,e){let n=new Set(t).add(void 0);return s.listen((r,l,u)=>{n.has(u)&&e(r,l,u)})}let j=(s={})=>{let t=w(s);return t.setKey=function(e,n){let r=t.value;typeof n>"u"&&e in t.value?(t.value={...t.value},delete t.value[e],t.notify(r,e)):t.value[e]!==n&&(t.value={...t.value,[e]:n},t.notify(r,e))},t},v=(s,t)=>e=>{s.current!==e&&(s.current=e,t())};function _(s,{keys:t,deps:e=[s,t]}={}){let n=f.useRef();n.current=s.get();let r=f.useCallback(u=>(v(n,u)(s.value),t?.length>0?b(s,t,v(n,u)):s.listen(v(n,u))),e),l=()=>n.current;return f.useSyncExternalStore(r,l,l)}const d=w({status:"unknown",user:null}),y="auth:v1";function N(){if(typeof window>"u")return;const s=localStorage.getItem(y);if(s)try{const t=JSON.parse(s);d.set(t)}catch{}else d.set({status:"anonymous",user:null})}function g(){typeof window>"u"||localStorage.setItem(y,JSON.stringify(d.get()))}async function T(s,t){const e={email:s,name:s.split("@")[0]};d.set({status:"authenticated",user:e}),g()}function q(){d.set({status:"anonymous",user:null}),g()}typeof window<"u"&&(N(),d.listen(g));j({});const L=()=>{const{user:s,status:t}=_(d),[e,n]=f.useState(""),[r,l]=f.useState("");return t==="authenticated"&&s?i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsxs("p",{className:"text-lg",children:["Welcome, ",s.email,"!"]}),i.jsx("button",{className:"rounded bg-gray-900 px-4 py-2 text-white",onClick:q,children:"Logout"})]}):i.jsxs("form",{onSubmit:u=>{u.preventDefault(),T(e)},className:"mx-auto  flex w-full max-w-sm   flex-col gap-3 rounded-2xl bg-white p-6 shadow",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Demo Login"}),i.jsx("input",{type:"email",required:!0,placeholder:"Email",className:"rounded-lg border border-gray-300 px-3 py-2",value:e,onChange:u=>n(u.target.value)}),i.jsx("input",{type:"password",required:!0,placeholder:"Password",className:"rounded-lg border border-gray-300 px-3 py-2",value:r,onChange:u=>l(u.target.value)}),i.jsx("button",{type:"submit",className:"rounded-lg bg-gray-900 px-4 py-2 font-medium text-white",children:"Login"})]})};export{L as LoginPage};
